import path from 'path';
import express, { NextFunction, Request, Response } from 'express';
import cors from 'cors';
import morgan from 'morgan';
import bodyParser from 'body-parser';

import {{#if pinoLogger}}{ logger, httpLogger }{{else}}logger{{/if}} from '../../lib/logger';
{{#if monitoring}}
import register from '../../lib/prometheus';
{{/if}}
{{#if routing}}
import routes from '../../app/routes';
{{/if}}

interface Error {
  name: string;
  message: string;
  status: number;
}
